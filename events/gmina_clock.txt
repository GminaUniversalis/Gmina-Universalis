namespace = clock

#year clock
country_event = {
    id = clock.1
	title = "clock.1.t"
	desc = "clock.1.d"
    is_triggered_only = yes
	hidden = yes
    
    immediate = {

        change_variable = {
            which = clock_year
            value = 1
        }

        clr_global_flag = clock_init_year
        set_global_flag = clock_init_year
        
    }

    option = {
        name = "clock.1.a"
    }
}

#month clock
country_event = {
    id = clock.3
	title = "clock.3.t"
	desc = "clock.3.d"
    is_triggered_only = yes
	hidden = yes
    
    immediate = {
        
        if = {
            limit = {
                check_variable = {
                    which = clock_month
                    value = 12
                }
                NOT = {
                    check_variable = {
                        which = clock_month
                        value = 13
                    }
                }
            }

            subtract_variable = {
                which = clock_month
                value = 11
            }
        }
        else_if = { #Redundancy
            limit = {
                check_variable = {
                    which = clock_month
                    value = 13
                }

                NOT = {
                    check_variable = {
                        which = clock_month
                        value = 14
                    }
                }
            }

            subtract_variable = {
                which = clock_month
                value = 12
            }
        }
        else = {

            change_variable = {
                which = clock_month
                value = 1
            }

        }
        
        clr_global_flag = clock_init_month
        set_global_flag = clock_init_month
        
    }

    option = {
        name = "clock.3.a"
    }
}

#on_startup
country_event = {
    id = clock.2
    title = "clock.2.t"
	desc = "clock.2.d"
    is_triggered_only = yes
	hidden = yes
    fire_only_once = yes

    immediate = {
        if = {
            limit = {
                start_date = 1444.11.11
            }
            set_global_flag = clock_init_year
            set_global_flag = clock_init_month
        }

        set_variable = {
            which = clock_year
            value = 1969
        }

        set_variable = {
            which = clock_month
            value = 1
        }

        random_province = {
            add_province_triggered_modifier = clock_ptm
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_2
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_3
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_4
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_5
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_6
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_7
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_8
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_9
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_10
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_11
        }
        random_province = {
            add_province_triggered_modifier = clock_ptm_12
        }

    }

    option = {

    }
}