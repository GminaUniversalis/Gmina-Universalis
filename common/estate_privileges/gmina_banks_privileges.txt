estate_banks_free_banks = {
	icon = privilege_government
	land_share = 0
	max_absolutism = 0
	loyalty = -0.1
	influence = 0.1
	ai_will_do = {
		factor = 10

		modifier = {
			factor = 2
			OR = {
				religion_group = populism_group
				religion_group = liberalism_group
				religion_group = conservatism_group
			}

		}

		modifier = {
			factor = 0.1
			religion_group = communism_group
		}

		modifier = {
			factor = 0.5
			inflation = 2
			NOT = { full_idea_group = economic_ideas }
		}

		modifier = {
			factor = -300
			is_in_deficit = yes
		}

		modifier = {
			factor = 2
			full_idea_group = economic_ideas
		}
	}
	is_valid = {
		NOT = { current_age = age_of_discovery }
	}
	can_select = {
		custom_trigger_tooltip = {
			tooltip = estate_banks_definer_tooltip
			OR = {
				NOT = { has_country_flag = picked_banks_definer}
				had_country_flag = {
					flag = picked_banks_definer
					days = 9125
				}
			}
		}
	}
	on_granted = {
		custom_tooltip = estate_banks_free_banks_definer_tooltip
		hidden_effect = {
			remove_estate_privilege = estate_banks_mixed
			remove_estate_privilege = estate_banks_state_controlled
			clr_country_flag = picked_banks_definer
			set_country_flag = picked_banks_definer
			clr_country_flag = picked_free_banks
			set_country_flag = picked_free_banks
		}
	}
	on_revoked = { 
		add_stability = -2
	}

	can_revoke = {
		OR = {
			NOT = { has_country_flag = picked_banks_definer}
			had_country_flag = {
				flag = picked_banks_definer
				days = 9125
			}
		}
	}
	penalties = {
		interest = 2
		inflation_reduction = -0.05
		may_not_reduce_inflation = yes
	}

}
estate_banks_mixed = {
	icon = privilege_government
	land_share = 0
	max_absolutism = 0
	loyalty = -0.05
	influence = 0.05
	ai_will_do = {
		factor = 10

		modifier = {
			factor = 1.5
			OR = {
				religion_group = populism_group
				religion_group = liberalism_group
				religion_group = conservatism_group
			}

		}

		modifier = {
			factor = 2
			religion_group = socialism_group
		}

		modifier = {
			factor = 0.1
			religion_group = communism_group
		}

		modifier = {
			factor = 1.5
			inflation = 2
			NOT = { full_idea_group = economic_ideas }
		}

		modifier = {
			factor = 2
			has_idea_group = trade_ideas
		}
	}
	is_valid = {
		NOT = { current_age = age_of_discovery }
	}
	can_select = {
		custom_trigger_tooltip = {
			tooltip = estate_banks_definer_tooltip
			OR = {
				NOT = { has_country_flag = picked_banks_definer}
				had_country_flag = {
					flag = picked_banks_definer
					days = 9125
				}
			}
		}
	}
	on_granted = {
		custom_tooltip = estate_banks_mixed_definer_tooltip
		hidden_effect = {
			remove_estate_privilege = estate_banks_free_banks
			remove_estate_privilege = estate_banks_state_controlled
			clr_country_flag = picked_banks_definer
			set_country_flag = picked_banks_definer
			clr_country_flag = picked_mixed_banks
			set_country_flag = picked_mixed_banks
		}
	}
	on_revoked = { 
		add_stability = -2
	}

	can_revoke = {
		OR = {
			NOT = { has_country_flag = picked_banks_definer}
			had_country_flag = {
				flag = picked_banks_definer
				days = 9125
			}
		}
	}

	penalties = {
		interest = 1
	}
	benefits = {
		inflation_reduction = 0.05
	}
}
estate_banks_state_controlled = {
	icon = privilege_government
	land_share = 0
	max_absolutism = 0
	loyalty = 0.2
	influence = -0.2
	ai_will_do = {
		factor = 10

		modifier = {
			factor = 0.1
			OR = {
				religion_group = populism_group
				religion_group = liberalism_group
				religion_group = conservatism_group
			}

		}

		modifier = {
			factor = 1.5
			religion_group = socialism_group
		}

		modifier = {
			factor = 2
			religion_group = communism_group
		}

		modifier = {
			factor = 0.1
			inflation = 2
			NOT = { full_idea_group = economic_ideas }
		}

		modifier = {
			factor = 0.1
			has_idea_group = economic_ideas
		}
		
		modifier = {
			factor = 50
			is_in_deficit = yes
		}
	}
	can_select = {
		custom_trigger_tooltip = {
			tooltip = estate_banks_definer_tooltip
			OR = {
				NOT = { has_country_flag = picked_banks_definer}
				had_country_flag = {
					flag = picked_banks_definer
					days = 9125
				}
			}
		}
	}
	on_granted = {
		custom_tooltip = estate_banks_state_controlled_definer_tooltip
		hidden_effect = {
			remove_estate_privilege = estate_banks_mixed
			remove_estate_privilege = estate_banks_free_banks
			clr_country_flag = picked_banks_definer
			set_country_flag = picked_banks_definer
			clr_country_flag = picked_state_controlled_banks
			set_country_flag = picked_state_controlled_banks
		}
	}
	on_revoked = { 
		add_stability = -2
	}

	can_revoke = {
		OR = {
			NOT = { has_country_flag = picked_banks_definer}
			had_country_flag = {
				flag = picked_banks_definer
				days = 9125
			}
		}
	}

	penalties = {
		inflation_reduction = -0.1
		inflation_action_cost = 0.5
	}

}
estate_banks_land_rights = {
	icon = privilege_grant_autonomy
	land_share = 5
	max_absolutism = 0
	
	loyalty = 0.05
	influence = 0.05
	can_select = {
	}
	on_granted = {
	}
	modifier_by_land_ownership = {
		
	}

	conditional_modifier = {
	}
	benefits = {
		governing_capacity = 100
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 1.4
			num_of_territories = 5
		}
		modifier = {
			factor = 1.5
			num_of_territories = 10
		}
		modifier = {
			factor = 1.5
			num_of_territories = 15
		}
	}
}
estate_banks_empty_promises = {
	icon = privilege_comission_merchant_ships_for_war
	land_share = 0
	max_absolutism = 0
	
	loyalty = 0.1
	influence = 0.1
	ai_will_do = {
		factor = 10

		modifier = {
			factor = 0.1

			NOT = {
				estate_influence = {
					estate = estate_banks
					influence = 80
				}
			}

		}
	}	
	on_granted = {
	
	}
	penalties = {
	
	}
	benefits = {
	
	}
}
estate_banks_promote_mortgages = {
	icon = privilege_recruit_minister
	max_absolutism = 0
	
	influence = 0.1
	loyalty = 0.1
	penalties = {
		global_tax_modifier = -0.2
	}
	benefits = {
		trade_efficiency = 0.15
		development_cost = -0.1
	}
	ai_will_do = {
		factor = 10

		modifier = {
			factor = 0.1
			is_in_deficit = yes
		}

		modifier = {
			factor = 2
			has_idea_group = trade_ideas
		}

		modifier = {
			factor = 5
			trade_income_percentage = 0.25
		}

		modifier = {
			factor = 200
			any_owned_province = {
				NOT = { num_of_times_improved = 100 }
			}
		}

		modifier = {
			factor = 300
			NOT = { total_development = 5000 }
		}
	}
}
estate_banks_market_trading_focus = {
	icon = estate_burghers_fund_karimi
	land_share = 0
	max_absolutism = 0
	loyalty = 0.2
	influence = 0.05
	ai_will_do = {
		factor = 0

		modifier = {
			factor = -1000

			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 5
			}
		}
		modifier = {
			factor = 2
			has_idea_group = trade_ideas
		}

		modifier = {
			factor = -1000
			ruler_has_bad_dip_personality = yes
		}

		modifier = {
			factor = -1000
			ruler_has_good_mil_personality = yes
		}

		modifier = {
			factor = -1000
			mil = 3
		}

		modifier = {
			factor = -1000
			NOT = {
				dip = 3
			}
		}

		modifier = {
			factor = 0.5
			NOT = {
				trade_income_percentage = 0.25
			}
		}

		modifier = {
			factor = 10
			any_owned_province = {
				province_has_center_of_trade_of_level = 3
			}
		}

		modifier = {
			factor = 5
			any_owned_province = {
				province_has_center_of_trade_of_level = 2
			}
		}

		modifier = {
			factor = 1.5
			any_owned_province = {
				province_has_center_of_trade_of_level = 1
			}
		}

		modifier = {
			factor = 100
			ROOT = {
				any_active_trade_node = {
					highest_value_trade_node = yes
				}
			}
		}

	}
	can_select = {
		OR = {
			NOT = { has_country_flag = picked_market_trading_focus}
			had_country_flag = {
				flag = picked_market_trading_focus
				days = 7300
			}
		}
	}
	on_granted = {
		hidden_effect = {
			clr_country_flag = picked_market_trading_focus
			set_country_flag = picked_market_trading_focus
		}
	}
	on_revoked = { 
	}
	penalties = {
		discipline = -0.05
		manpower_recovery_speed = -0.25
		stability_cost_to_declare_war = 2
	}
	benefits = {
		trade_steering = 0.1
		trade_range_modifier = 0.5
		global_prov_trade_power_modifier = 0.1
		trade_efficiency = 0.1
		trade_goods_size_modifier = 0.1
		ship_trade_power_modifier = 0.15
	}
}
estate_banks_hire_regional_director = {
	icon = privilege_recruit_minister
	land_share = 0
	max_absolutism = 0
	
	influence = 0.15
	loyalty = 0.1
	penalties = {	
		
	}
	on_granted = {
		add_years_of_income = -0.5
	}
	benefits = {
		merchants = 1
	}
	ai_will_do = {
		factor = 2

		modifier = {
			factor = 10
			NOT = { num_of_merchants = 4 }
		}

		modifier = {
			factor = 2
			has_idea_group = trade_ideas
		}

		modifier = {
			factor = 0.5
			NOT = {
				trade_income_percentage = 0.25
			}
		}

		modifier = {
			factor = 100
			ROOT = {
				any_active_trade_node = {
					highest_value_trade_node = yes
				}
			}
		}
	}
}
estate_banks_indebted_to_free_banks = {
	icon = privilege_give_money
	max_absolutism = 0
	
	loyalty = 0.05
	influence = 0.05
	is_valid = {
		has_country_flag = picked_free_banks
	}
	on_granted = {
		custom_tooltip = estate_banks_indebted_to_free_banks_effect_tooltip

		if = {
			limit = {
				NOT = { has_government_attribute = no_mercantilism_loss_from_privilege }
				NOT = { has_country_flag = no_mercantilism_loss_estate_privilege_flag }
			}
			add_mercantilism = -1
		}
		tooltip = {
			add_inflation = 0.5
		}
		hidden_effect = {
			add_loan = {
				fixed_interest = 3
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 3
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 3
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 3
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 3
				duration = 60
				estate_loan = yes
			}
		}
	}
	penalties = {
		trade_efficiency = -0.05
	}

	can_select = {
		if = {
			limit = {
				has_estate_privilege = estate_banks_indebted_to_free_banks
			}
			has_estate_loan = yes
		}
	}
	can_revoke = {
		has_estate_loan = no
	}
	ai_will_do = {
		factor = 0
	}
}
estate_banks_indebted_to_mixed = {
	icon = privilege_give_money
	max_absolutism = 0
	
	loyalty = 0.05
	influence = 0.05
	is_valid = {
		has_country_flag = picked_mixed_banks
	}
	on_granted = {
		custom_tooltip = estate_banks_indebted_to_mixed_effect_tooltip

		if = {
			limit = {
				NOT = { has_government_attribute = no_mercantilism_loss_from_privilege }
				NOT = { has_country_flag = no_mercantilism_loss_estate_privilege_flag }
			}
			add_mercantilism = -1
		}
		tooltip = {
			add_inflation = 0.5
		}
		hidden_effect = {
			add_loan = {
				fixed_interest = 2
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 2
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 2
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 2
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 2
				duration = 60
				estate_loan = yes
			}
		}
	}
	penalties = {
		trade_efficiency = -0.05
	}

	can_select = {
		if = {
			limit = {
				has_estate_privilege = estate_banks_indebted_to_mixed
			}
			has_estate_loan = yes
		}
	}
	can_revoke = {
		has_estate_loan = no
	}
	ai_will_do = {
		factor = 0
	}
}
estate_banks_indebted_to_state_controlled = {
	icon = privilege_give_money
	max_absolutism = 0
	
	loyalty = 0.05
	influence = 0.05
	is_valid = {
		has_country_flag = picked_state_controlled_banks
	}
	on_granted = {
		custom_tooltip = estate_banks_indebted_to_state_controlled_effect_tooltip

		if = {
			limit = {
				NOT = { has_government_attribute = no_mercantilism_loss_from_privilege }
				NOT = { has_country_flag = no_mercantilism_loss_estate_privilege_flag }
			}
			add_mercantilism = -1
		}
		tooltip = {
			add_inflation = 0.5
		}
		hidden_effect = {
			add_loan = {
				fixed_interest = 1
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 1
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 1
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 1
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 1
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 1
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 1
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 1
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 1
				duration = 60
				estate_loan = yes
			}
			add_loan = {
				fixed_interest = 1
				duration = 60
				estate_loan = yes
			}
		}
	}
	penalties = {
		trade_efficiency = -0.05
	}

	can_select = {
		if = {
			limit = {
				has_estate_privilege = estate_banks_indebted_to_state_controlled
			}
			has_estate_loan = yes
		}
	}
	can_revoke = {
		has_estate_loan = no
	}
	ai_will_do = {
		factor = 0
	}
}
estate_banks_appoint_president_of_nationaL_bank = {
	icon = privilege_gold_mint
	loyalty = 0.0
	influence = 0.05
	max_absolutism = 0
	
	is_valid = {

	}
	can_select = {
	}
	on_granted = {
		enable_estate_action = {
			estate_action = RECRUIT_MINISTER_BURGHERS
		}
	}
	on_revoked = {
		disable_estate_action = {
			estate_action = RECRUIT_MINISTER_BURGHERS
		}
	}
	on_invalid = {
		disable_estate_action = {
			estate_action = RECRUIT_MINISTER_BURGHERS
		}
	}
	conditional_modifier = {
	}
	ai_will_do = {
		factor = 0
	}
}
estate_banks_economic_stimulation = {
	icon = privilege_development_efficiency
	loyalty = 0.05
	influence = 0.05
	max_absolutism = 0
	

	on_granted = {
		custom_tooltip = estate_burghers_development_of_cities_gt  #Do zmiany na potem
		tooltip = {
			add_province_modifier = {
				name = estate_burghers_development_of_cities_mod
				duration = -1
			}
		}
	}
	on_revoked = {
		custom_tooltip = estate_burghers_development_of_cities_rt
	}
	on_granted_province = {
		if = {
			limit = {
				OR = {
					province_has_center_of_trade_of_level = 1
					has_river_estuary_trigger = yes
				}
			}
			add_province_modifier = {
				name = estate_burghers_development_of_cities_mod
				duration = -1
			}
		}
	}
	on_invalid_province = {
		if = {
			limit = { has_province_modifier = estate_burghers_development_of_cities_mod }
			remove_province_modifier = estate_burghers_development_of_cities_mod
		}
	}
	on_revoked_province = {
		if = {
			limit = { has_province_modifier = estate_burghers_development_of_cities_mod }
			remove_province_modifier = estate_burghers_development_of_cities_mod
		}
	}

	mechanics = {
		no_estate_crownland_loss_from_developing
	}
	ai_will_do = {
		factor = 10

		modifier = {
			factor = 2
			any_owned_province = {
				province_has_center_of_trade_of_level = 1
				NOT = { development = 30}
			}
		}

		modifier = {
			factor = -100
			NOT = { governing_capacity_percentage = 0.8 }
		}
	}
}
estate_banks_trained_brokers = {
	icon = privilege_make_generous_donation
	max_absolutism = 0
	

	influence = 0.05
	loyalty = 0.05
	benefits = { 
		placed_merchant_power = 5 
		center_of_trade_upgrade_cost = -0.1 
	}

	cooldown_years = 5
	ai_will_do = {
		factor = 2

		modifier = {
			factor = 10
			num_of_merchants = 4 
		}

		modifier = {
			factor = 2
			has_idea_group = trade_ideas
		}

		modifier = {
			factor = 0.5
			NOT = {
				trade_income_percentage = 0.25
			}
		}

		modifier = {
			factor = 100
			ROOT = {
				any_active_trade_node = {
					highest_value_trade_node = yes
				}
			}
		}
	}
}
estate_banks_regulate_money_supply = {
	icon = privilege_monopoly
	max_absolutism = 0
	
	influence = 0.05
	loyalty = 0.05
	penalties = {
		all_power_cost = 0.1
	}
	benefits = {
		inflation_reduction = 0.3
		interest = -1
		production_efficiency = 0.05
	}
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 10
			OR = {
				inflation = 15
				num_of_loans = 15
			}
		}
		modifier = {
			factor = -10
			is_absolutism_active = yes
		}

		modifier = {
			factor = 5
			is_in_deficit = yes
		}
	}
}
estate_banks_insider_info = {
	icon = privilege_land_rights
	land_share = 10
	max_absolutism = 0
	
	loyalty = 0.1
	influence = 0.1

	can_select = {
	}
	can_revoke = {
	}
	on_granted = {
	}
	modifier_by_land_ownership = {
		global_trade_power = 0.33
	}

	benefits = {
		trade_range_modifier = 0.15
	}
	mechanics = {
		exempt_from_seize_land
	}
	cooldown_years = 15
	ai_will_do = {
		factor = 2

		modifier = {
			factor = 10
			num_of_merchants = 4 
		}

		modifier = {
			factor = 2
			has_idea_group = trade_ideas
		}

		modifier = {
			factor = 0.5
			NOT = {
				trade_income_percentage = 0.25
			}
		}

		modifier = {
			factor = 100
			ROOT = {
				any_active_trade_node = {
					highest_value_trade_node = yes
				}
			}
		}
	}
}
estate_banks_advertisement_national_bank = {
	icon = privilege_build_jain_temple
	max_absolutism = 0
	
	loyalty = 0.05
	influence = 0.05
	benefits = {
		
	}
	cooldown_years = 5
	on_granted = {
		if = {
			limit = { prestige = 50 }
			add_prestige = 10
		}
		else_if = {
			limit = { prestige = 0 }
			add_prestige = 15
		}
		else_if = {
			limit = { prestige = -25 }
			add_prestige = 20
		}
		else_if = {
			limit = { prestige = -50 }
			add_prestige = 25
		}
		else = {
			add_prestige = 30
		}
	}
	ai_will_do = {
		factor = 10

		modifier = {
			factor = 100
			NOT = { prestige = -50 }
		}

		modifier = {
			factor = 90
			NOT = { prestige = -40 }
		}

		modifier = {
			factor = 80
			NOT = { prestige = -30 }
		}

		modifier = {
			factor = 70
			NOT = { prestige = -20 }
		}

		modifier = {
			factor = 60
			NOT = { prestige = -10 }
		}

		modifier = {
			factor = 50
			prestige = 0 
		}

		modifier = {
			factor = 25
			prestige = 10 
		}

		modifier = {
			factor = 15
			prestige = 20 
		}

		modifier = {
			factor = 10
			prestige = 30 
		}

		modifier = {
			factor = 5
			prestige = 40 
		}

		modifier = {
			factor = -100
			prestige = 50
		}
	}
}
estate_banks_commercial_experts = {
	icon = privilege_recruit_minister
	max_absolutism = 0
	
	influence = 0.1
	loyalty = 0.05
	penalties = {
		stability_cost_modifier = 0.3
	}
	benefits = {
		dip_advisor_cost = -0.25
	}
	ai_will_do = {
		factor = 10

		modifier = {
			factor = 0.1

			stability = 0
		}

		modifier = {
			factor = 2
			dip = 2
		}
	}
}