republic_mechanic = {
	basic_reform = yes
	republican_name = yes
	royal_marriage = no
	republic = yes
	duration = 4
	has_term_election = yes
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}

	modifiers = {
		max_absolutism = -40
	}

	valid_for_nation_designer = no
}

#Tier 1

gmina_government_reform = {
	icon = "peasant_republic"
	allow_normal_conversion = yes
	potential = {
		OR = {
			has_reform = gmina_government_reform
			have_had_reform = gmina_government_reform
			government_rank = 1
		}	

	}

	trigger = {
		government_rank = 1
		NOT = {government_rank = 2}
	}

	lock_level_when_selected = no
	valid_for_new_country = yes
	nation_designer_cost = 5
	valid_for_nation_designer = yes
	modifiers = {
		development_cost_in_primary_culture = -0.1
		global_allowed_num_of_manufactories = 1
		global_allowed_num_of_buildings = 1
		enemy_core_creation = 0.1
	}

	conditional = {
		allow = {
			has_dlc = "Common Sense"
			NOT = { has_dlc = "Domination" }
		}
		has_parliament = yes
	}
	conditional = {
		allow = {
			has_dlc = "Domination"
		}
		has_parliament = yes
		custom_attributes = {
			english_parliament = yes
		}
	}
	duration = 5
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes
	}
}

powiat_government_reform = {
	icon = "map"
	allow_normal_conversion = yes
	potential = {
		OR = {
			has_reform = powiat_government_reform
			have_had_reform = powiat_government_reform
			AND = {
				government_rank = 2
				NOT = {government_rank = 3}
			}
		}

	}

	trigger = {
		government_rank = 2
		NOT = {government_rank = 3}
	}
	
	lock_level_when_selected = no
	valid_for_new_country = no
	nation_designer_cost = 10
	valid_for_nation_designer = yes
	modifiers = {
		monthly_reform_progress_modifier = 0.25
		relation_with_same_culture_group = 25
		relation_with_other_culture = -50
		num_of_parliament_issues = 1
	}

	conditional = {
		allow = {
			has_dlc = "Common Sense"
			NOT = { has_dlc = "Domination" }
		}
		has_parliament = yes
	}
	conditional = {
		allow = {
			has_dlc = "Domination"
		}
		has_parliament = yes
		custom_attributes = {
			english_parliament = yes
		}
	}
	duration = 5
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes
	}
}

miasto_powiatowe_government_reform = {
	icon = "free_city"
	allow_normal_conversion = yes
	potential = {
		OR = {
			has_reform = miasto_powiatowe_government_reform
			have_had_reform = miasto_powiatowe_government_reform
			AND = {
				government_rank = 3
				NOT = {government_rank = 4}
			}
		}

	}

	trigger = {
		government_rank = 3
		NOT = {government_rank = 4}
	}
	
	lock_level_when_selected = no
	valid_for_new_country = no
	nation_designer_cost = 15
	valid_for_nation_designer = yes
	modifiers = {

		parliament_backing_chance = 0.25
		advisor_pool = 2
		state_governing_cost = -0.20
		num_of_parliament_issues = 3
	}

	conditional = {
		allow = {
			has_dlc = "Common Sense"
			NOT = { has_dlc = "Domination" }
		}
		has_parliament = yes
	}
	conditional = {
		allow = {
			has_dlc = "Domination"
		}
		has_parliament = yes
		custom_attributes = {
			english_parliament = yes
		}
	}
	duration = 5
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes
	}
}

wojewodztwo_government_reform = {
	icon = "landscape"
	allow_normal_conversion = yes
	potential = {
		OR = {
			has_reform = wojewodztwo_government_reform
			have_had_reform = wojewodztwo_government_reform
			AND = {
				government_rank = 4
				NOT = {government_rank = 5}
			}
		}

	}

	trigger = {
		government_rank = 4
		NOT = {government_rank = 5}
	}
	
	lock_level_when_selected = no
	valid_for_new_country = no
	nation_designer_cost = 20
	valid_for_nation_designer = yes

	modifiers = {

		global_allowed_num_of_buildings = 1
		parliament_backing_chance = 0.2
		advisor_pool = 3
		num_of_parliament_issues = 5
	}
	conditional = {
		allow = {
			has_dlc = "Common Sense"
			NOT = { has_dlc = "Domination" }
		}
		has_parliament = yes
	}
	conditional = {
		allow = {
			has_dlc = "Domination"
		}
		has_parliament = yes
		custom_attributes = {
			english_parliament = yes
		}
	}
	duration = 5
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes
	}
}

kraj_government_reform = {
	icon = "provincial_government"
	allow_normal_conversion = yes
	potential = {
		OR = {
			has_reform = kraj_government_reform
			have_had_reform = kraj_government_reform
			government_rank = 5
		}

	}

	trigger = {
		government_rank = 5
	}
	
	lock_level_when_selected = no
	valid_for_new_country = no
	nation_designer_cost = 25
	valid_for_nation_designer = yes
	modifiers = {
		
		global_tax_modifier = 2
		global_allowed_num_of_buildings = 1
		parliament_backing_chance = 0.15
		advisor_pool = 5
		num_of_parliament_issues = 10
	}

	conditional = {
		allow = {
			has_dlc = "Common Sense"
			NOT = { has_dlc = "Domination" }
		}
		has_parliament = yes
	}
	conditional = {
		allow = {
			has_dlc = "Domination"
		}
		has_parliament = yes
		custom_attributes = {
			english_parliament = yes
		}
	}
	duration = 5
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		cannot_become_dictatorship = yes
	}
}

free_city = { #Silesian Autonomy Powiat City
	icon = "free_city"
	allow_normal_conversion = no
	potential = {
		has_reform = free_city
	}
	legacy_equivalent = imperial_city
	valid_for_nation_designer = yes
	lock_level_when_selected = yes
	nation_designer_cost = 25
	nation_designer_trigger = {
		capital_scope = { is_part_of_hre = yes }
	}

	factions = {
		mining_corporations
		local_politicians
		separationists_movement
	}

	free_city = yes
	modifiers = {
		trade_efficiency = 0.1
		development_cost = -0.2
		diplomatic_upkeep = 1
		miners_influence_modifier = 0.1
	}
	fixed_rank = 3

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}

	conditional = {
		allow = {
			has_dlc = "Common Sense"
			NOT = { has_dlc = "Domination" }
		}
		has_parliament = yes
	}
	conditional = {
		allow = {
			has_dlc = "Domination"
		}
		has_parliament = yes
		custom_attributes = {
			english_parliament = yes
		}
	}
	duration = 5
}

republican_army_coup_reform = {
	icon = "prussian_monarchy"
	allow_normal_conversion = yes
	potential = {
		OR = {
			AND = {
				has_estate = estate_army
				has_disaster = estate_army_disaster
			}
			have_had_reform = monarchical_army_coup_reform
			have_had_reform = republican_army_coup_reform
		}
	}
	trigger = {
		OR = {
			OR = {
				have_had_reform = monarchical_army_coup_reform
				have_had_reform = republican_army_coup_reform
				has_disaster = estate_army_disaster
			}

			AND = {
				is_playing_custom_nation = yes
				have_had_reform = republican_army_coup_reform
			}
			has_unlocked_government_reform = { government_reform = republican_army_coup_reform }
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 100
	
	modifiers = {
		war_exhaustion = -0.02
		monthly_prussian_militarized_society_3 = 0.05
		global_autonomy = -0.075
		republican_tradition = -0.5
		max_absolutism = 30
		governing_capacity_modifier = -0.5
		army_influence_modifier = 0.15		
	}
	
	conditional = {
		allow = { has_dlc = "Rights of Man" }
		government_abilities = {
			prussian_militarization_mechanic_3
		}
	}
	
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		generals_become_rulers = yes
		#force_general_leader = yes
	}
	
	has_term_election = no
}

capital_city_reform_republic = {
	icon = "celestial_empire"
	allow_normal_conversion = no
	potential = {

		is_emperor_of_china = yes
		NOT = { has_global_flag = empire_of_china_dismantled }
	}

	#maintain_dynasty = yes
	allow_force_tributary = no
	valid_for_nation_designer = yes
	nation_designer_cost = 10
	lock_level_when_selected = yes

	fixed_rank = 5

	modifiers = {
		prestige = 0.5
		governing_capacity = 500
	}
	
	ai = {
		factor = 1000 # should always be picked if available
	}

	conditional = {
		allow = { has_dlc = "Mandate of Heaven" }
		has_meritocracy = yes
		factions = {}
	}
}

#Tier 2

republican_authoritarianism_reform = {
	icon = "merchant"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		global_unrest = -1
		max_absolutism = 5
		ub_influence_modifier = 0.1
		ub_loyalty_modifier = 0.05
	}
	ai = {
		factor = 1
	}
}

nepotism_reform = {
	icon = "man_and_children"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
		}
		NOT = { has_reform = signoria_reform }
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	trigger = {
		NOT = { 
			OR = {
				has_reform = venice_merchants_reform 
				has_government_attribute = has_dutch_election
				has_reform = presidential_despot_reform
				has_reform = military_dictatorship_reform
				has_reform = admiralty_reform
				has_reform = military_rulership_reform
				has_reform = prussian_republic
				has_reform = prussian_republic_reform
			}
		}
	}
	modifiers = {
		candidate_random_bonus = 1
		families_influence_modifier = 0.1
		families_loyalty_modifier = 0.05
	}

	custom_attributes = {
		enables_nepotism = yes
	}
	ai = {
		factor = 1
	}
}

republicanism_reform = {
	icon = "assembly_hall"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		republican_tradition = 0.3
	}
	ai = {
		factor = 1.5
	}
}

democratic_values_reform = {
	icon = "equal_electorate_reform"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		global_trade_goods_size_modifier = 0.05
		#maratha_muslim_influence_modifier = 0.1
		#rajput_muslim_influence_modifier = 0.1
		families_influence_modifier = 0.1
		families_loyalty_modifier = 0.05
		#vaisyas_non_muslim_influence_modifier = 0.1
		may_recruit_female_generals = yes
		female_advisor_chance = 0.25
	}
	ai = {
		factor = 1
	}
}

aristocratic_values_reform = {
	icon = "politeia"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		global_manpower_modifier = 0.1
		army_influence_modifier = 0.1
		#maratha_exclusive_influence_modifier = 0.1
		#rajput_exclusive_influence_modifier = 0.1
		army_loyalty_modifier = 0.05
		#maratha_exclusive_loyalty_modifier = 0.05
		#rajput_exclusive_loyalty_modifier = 0.05
	}
	ai = {
		factor = 1
	}
}

religious_values_reform = {
	icon = "religious_leader"
	allow_normal_conversion = yes
	potential = {
		NOT = {
			has_government_attribute = is_pirate_republic_reform
		}
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		missionaries = 1
		
		priests_influence_modifier = 0.1
		priests_loyalty_modifier = 0.05

	}
	ai = {
		factor = 1
	}
}

council_of_captains_reform = {
	icon = "council_of_captains"
	allow_normal_conversion = yes
	legacy_equivalent = oligarchic_republic
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_reform = the_pirate_ways_reform
			}
			custom_trigger_tooltip = {
				tooltip = had_the_pirate_ways_reform_tt
				had_country_flag = {
					flag = has_the_pirate_ways_reform
					days = 3650
				}
			}
		}
	}
	modifiers = {
		pr_captains_influence = 0.1
		privateer_efficiency = 0.33
	}
	ai = {
		factor = 2.5
	}
}

articles_of_agreement_reform = {
	icon = "articles_of_agreement"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_reform = the_pirate_ways_reform
			}
			custom_trigger_tooltip = {
				tooltip = had_the_pirate_ways_reform_tt
				had_country_flag = {
					flag = has_the_pirate_ways_reform
					days = 3650
				}
			}
		}
	}
	modifiers = {
		pr_buccaneers_influence = 0.1
		republican_tradition = 0.5
		global_sailors_modifier = 0.1
	}
	ai = {
		factor = 2.5
	}
}

smugglers_haven_reform = {
	icon = "smugglers_haven"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_reform = the_pirate_ways_reform
			}
			custom_trigger_tooltip = {
				tooltip = had_the_pirate_ways_reform_tt
				had_country_flag = {
					flag = has_the_pirate_ways_reform
					days = 3650
				}
			}
		}
	}
	modifiers = {
		pr_smugglers_influence = 0.1
		global_foreign_trade_power = 0.3
	}
	ai = {
		factor = 2.5
	}
}

the_pirate_ways_reform = {
	icon = "sailors"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		privateer_efficiency = 0.25
		land_morale = 0.1
		naval_morale = 0.1
		naval_maintenance_modifier = -0.10
		republican_tradition = 1
	}
	effect = {
		custom_tooltip = break_every_non_pirate_alliance_tt
		custom_tooltip = blocks_other_reforms_for_this_level_for_10_years_tt
		hidden_effect = {
			every_ally = {
				limit = {
					NOT = { has_government_attribute = is_pirate_republic_reform }
				}
				ROOT = { break_alliance = PREV }
			}
			clr_country_flag = has_the_pirate_ways_reform
			set_country_flag = has_the_pirate_ways_reform
		}
	}
	custom_attributes = {
		cannot_ally_non_pirates = yes
	}
	ai = {
		factor = 1
	}
}

#Tier 3

frequent_elections_reform = {
	icon = "ballot_box"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	trigger = {
		OR = {
			custom_trigger_tooltip = {
				tooltip = "NEEDS_REGULAR_ELECTIONS"
				has_government_attribute = has_term_election
			}
			has_reform = lottery_reform
		}
	}
	modifiers = {
		max_absolutism = -10
		election_cycle = -1
	}
	ai = {
		factor = 1
	}
}

consolidation_of_power_reform = {
	icon = "constitution"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		max_absolutism = 10
		election_cycle = 1
		max_terms = 1
	}
	effect = {
		hidden_effect = {
			
		}
	}
	custom_attributes = {
		reelection_depowers_estates = yes
	}
}

lottery_reform = {
	icon = "paper_with_seal_3"
	allow_normal_conversion = yes
	potential = {
		is_colonial_nation = no
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	trigger = {
		NOT = { 
			OR = {
				has_reform = venice_merchants_reform 
				has_government_attribute = has_dutch_election
				has_reform = presidential_despot_reform
				has_reform = military_dictatorship_reform
				has_reform = admiralty_reform
				has_reform = military_rulership_reform
				has_reform = prussian_republic
				has_reform = prussian_republic_reform
			}
		}
	}
	modifiers = {
		monarch_lifespan = 0.25
	}
	custom_attributes = {
		lottery_election = yes
		election_on_death = yes
		bonus_stats_for_elected_ruler = yes
	}
	has_term_election = no
	ai = {
		factor = 1
	}
}

force_reelection_reform = {
	icon = "paper_with_seal"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = "NEEDS_REGULAR_ELECTIONS"
			has_government_attribute = has_term_election
		}
	}
	modifiers = {
		max_absolutism = -10
		yearly_corruption = -0.1
	}
	custom_attributes = {
		can_force_election = yes
	}
}

#Tier 4

establish_religious_institution_for_pirates_reform = {
	icon = "religious_leader"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {	
		OR = {
			NOT = { has_estate = estate_priests }
			crown_stronger_than_estate = { estate = estate_priests }
			has_reform = establish_religious_institution_for_pirates_reform
		}
	}
	modifiers = {
		tolerance_own = 2
		max_absolutism = -15
	}
	custom_attributes = {
		enables_estate_priests = yes
	}
	effect = {
		change_estate_land_share = {
			estate = estate_priests
			share = 20
		}
	}
	ai = {
		factor = 2.5
	}
}

crew_before_faith_reform = {
	icon = "pirate_crew"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_priests
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_priests
			}
		}
	}
	modifiers = {
		pr_buccaneers_influence = 0.1
		war_exhaustion = -0.1
	}
	ai = {
		factor = 2.5
	}
}

respect_for_the_sea_reform = {
	icon = "great_sea"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_priests
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_priests
			}
		}
	}
	modifiers = {
		global_unrest = -1
		navy_tradition = 0.5
		pr_captains_influence = 0.1
	}
	ai = {
		factor = 2.5
	}
}

relgious_freedom_reform = {
	icon = "partial_secularisation_reform"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_priests
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_priests
			}
		}
	}
	modifiers = {
		development_cost = -0.05
		tolerance_heathen = 1
		tolerance_heretic = 1
		pr_smugglers_influence = 0.1
	}
	ai = {
		factor = 2.5
	}
}

#Tier 5

#Tier 6

presidential_reform = {
	icon = "man_on_podium"
	allow_normal_conversion = yes
	modifiers = {
		embracement_cost = -0.1
		max_absolutism = 5
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0
			has_reform = free_city
		}
		modifier = {
			factor = 0.1
			NOT = { num_of_cities = 2 }
		}
	}
}

estate_council_reform = {
	icon = "council"
	allow_normal_conversion = yes
	modifiers = {
		all_estate_loyalty_equilibrium = 0.1
		max_absolutism = -25
	}
	potential = {
		is_revolutionary = no
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	trigger = {
		has_any_estates = yes
	}
	custom_attributes = {
		diet_increases_not_influence = yes
		elections_influence_estates = yes
		republican_tradition_from_diets = yes
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0
			has_reform = free_city
		}
		modifier = {
			factor = 0.1
			NOT = { num_of_cities = 2 }
		}
	}
}

attorney_general_reform = {
	icon = "three_classes_reform"
	allow_normal_conversion = yes
	modifiers = {
		same_culture_advisor_cost = -0.15
	}
	custom_attributes = {
		#seizing_land_no_rebels = yes
		republican_tradition_from_advisors = yes
		can_not_seize_land = yes
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0
			has_reform = free_city
		}
		modifier = {
			factor = 0.1
			NOT = { num_of_cities = 2 }
		}
	}
}

imperial_diplomacy_reform = {
	icon = "king"
	allow_normal_conversion = yes
	potential = {
		has_reform = free_city
	}
	modifiers = {
		diplomatic_reputation = 2
		diplomatic_upkeep = 1
	}
	effect = {
		emperor = {
			add_opinion = {
				who = root
				modifier = opinion_imperial_diplomacy
			}
		}
	}
	removed_effect = {
		emperor = {
			remove_opinion = {
				who = root
				modifier = opinion_imperial_diplomacy
			}
		}
	}
	ai = {
		factor = 1.5
	}
}

municipal_self_defense_reform = {
	icon = "soldiers_7"
	allow_normal_conversion = yes
	potential = {
		has_reform = free_city
	}
	modifiers = {
		land_forcelimit_modifier = 0.25
		global_manpower = 5
	}
	ai = {
		factor = 1.5
	}
}

proclaim_divine_guidance_reform = {
	icon = "religious_leader_highlighted"
	allow_normal_conversion = yes
	trigger = {
		NOT = { has_government_attribute_short_desc = locked_government_type }
		stability = 2
	}
	modifiers = {
	}
	effect = {
		set_country_flag = populists_in_government
		add_stability = -3
		change_government = theocracy
	}
	ai = {
		factor = 0
	}
}

seize_executive_power_reform = {
	icon = "king_2_highlighted"
	allow_normal_conversion = yes

	trigger = {
		NOT = { has_government_attribute_short_desc = locked_government_type }
		stability = 2
	}

	modifiers = {
	}
	effect = {
		if = {
			limit = { has_government_attribute = states_general_mechanic }
			set_country_flag = had_states_general_mechanic
		}
		set_country_flag = populists_in_government
		add_stability = -3
		change_government = monarchy

		if = {
			limit = { has_country_flag = had_states_general_mechanic }
			country_event = { id = dutch_republic.33 }
			clr_country_flag = had_states_general_mechanic
		}
	}
	ai = {
		factor = 0
	}
}

#Tier 7

provincial_governments_reform = {
	icon = "landscape"
	allow_normal_conversion = yes
	modifiers = {
		state_maintenance_modifier = -0.25
		global_prosperity_growth = 0.5
	}
	ai = {
		factor = 1
	}
}

administrative_divisions_reform = {
	icon = "map"
	allow_normal_conversion = yes
	modifiers = {
		governing_capacity = 250
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0
			has_reform = free_city
		}
		modifier = {
			factor = 0.5
			NOT = {
				any_owned_province = {
					is_territorial_core = root
				}
			}
		}
		modifier = {
			factor = 2.5
			num_of_owned_provinces_with = {
				value = 10
				is_territorial_core = root
			}
		}
		modifier = {
			factor = 0.25
			OR = {
				has_reform = merchants_reform
				has_reform = venice_merchants_reform
			}
		}
	}
}

union_of_states_reform = {
	icon = "constitution"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	modifiers = {
		global_trade_power = 0.1
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
		}
		can_use_trade_post = yes
	}
	trigger = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	boost_income = yes
	ai = {
		factor = 1
		modifier = {
			factor = 1.5
			trade_income_percentage = 0.35
		}
		modifier = {
			factor = 2
			OR = {
				has_reform = merchants_reform
				has_reform = venice_merchants_reform
			}
		}
		modifier = {
			factor = 0
			NOT = { num_of_cities = 2 }
			is_part_of_hre = yes
		}
	}
}

cultural_administration_reform = {
	icon = "conciliarism_reform"
	allow_normal_conversion = yes
	modifiers = {
		num_accepted_cultures = 2
		promote_culture_cost = -0.5
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0.25
			NOT = {
				any_owned_province = {
					has_owner_accepted_culture = no
					has_owner_culture = no
				}
			}
		}
	}
}

#Tier 8

empowered_quartermasters_reform = {
	icon = "merchant"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {	
		OR = {
			NOT = { has_estate = estate_banks }
			crown_stronger_than_estate = { estate = estate_banks }
			has_reform = empowered_quartermasters_reform
		}
	}
	modifiers = {
		naval_maintenance_modifier = -0.15
		max_absolutism = -15
	}
	effect = {
		change_estate_land_share = {
			estate = estate_banks
			share = 20
		}
	}
	custom_attributes = {
		enables_estate_banks = yes
	}
	ai = {
		factor = 1
	}
}

open_naval_services_reform = {
	icon = "merchant_ship"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_banks
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_banks
			}
		}
	}
	modifiers = {
		pr_buccaneers_influence = 0.1
		global_ship_cost = -0.05
		global_ship_repair = 0.15
	}
	effect = {
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						trade_goods = naval_supplies
					}
					add_province_modifier = { 
						name = naval_supplies_bonus_prod
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = naval_supplies_bonus_prod
				}
				remove_province_modifier = naval_supplies_bonus_prod
			}
		}
	}
	custom_attributes = {
		extra_trade_goods_from_naval_supplies = yes
	}
	ai = {
		factor = 1
	}
}

master_smugglers_reform = {
	icon = "black_army_reform"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_banks
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_banks
			}
		}
	}
	modifiers = {
		pr_smugglers_influence = 0.1
		mercenary_cost = -0.2
	}
	custom_attributes = {
		mercs_do_not_cost_army_professionalism = yes
	}
	ai = {
		factor = 1
	}
}

cutthroat_approach_reform = {
	icon = "pirate_republic"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {
		if = {
			limit = {
				has_government_attribute = enables_estate_banks
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_banks
			}
		}
	}
	modifiers = {
		naval_tradition_from_battle = 0.5
		prestige_from_naval = 0.5
		capture_ship_chance = 0.33
		pr_captains_influence = 0.1
	}
	conditional = {
		allow = { has_dlc = "Golden Century" }
		custom_attributes = {
			flagship_bounty_hunter = yes
		}
	}
	ai = {
		factor = 1
	}
}

#Tier 9

broaden_executive_powers_reform = {
	icon = "castle"
	allow_normal_conversion = yes
	modifiers = {
		stability_cost_modifier = -0.15
		all_power_cost = -0.02
	}
	ai = {
		factor = 1
	}
}

devolution_of_powers_reform = {
	icon = "generic_people"
	allow_normal_conversion = yes
	modifiers = {
		advisor_pool = 2
		global_autonomy = -0.05
	}
	ai = {
		factor = 1.5
	}
}

power_to_the_raiders_reform = {
	icon = "sea_raiders"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_buccaneers_influence = 0.1
		allowed_marine_fraction = 0.25
		global_sailors_modifier = 0.25
	}
	ai = {
		factor = 2.5
	}
}

power_to_the_captains_reform = {
	icon = "pirate_queen"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_captains_influence = 0.1
		heavy_ship_power = 0.1
		movement_speed_in_fleet_modifier = 1
	}
	ai = {
		factor = 2.5
	}
}

power_to_the_smugglers_reform = {
	icon = "blackmailing"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_smugglers_influence = 0.1
		merchants = 1
		ship_power_propagation = 0.25
	}
	ai = {
		factor = 2.5
	}
}

consolidate_power_to_the_ruler_reform = {
	icon = "nobleman"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		yearly_absolutism = 2
		max_absolutism = 25
		reelection_cost = -0.1
	}
	custom_attributes = {
		absolutism_reduction_on_ruler_death = yes
		reelection_increases_absolutism = yes
	}
	effect = {
		hidden_effect = {
			set_variable = {
				which = election_term
				value = 1
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			set_variable = {
				which = election_term
				value = 1
			}
		}
	}
	ai = {
		factor = 0
	}
}

consolidate_power_into_different_candidates_reform = {
	icon = "dutch_republic"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	trigger = {
		custom_trigger_tooltip = {
			tooltip = "NEEDS_REGULAR_ELECTIONS"
			has_government_attribute = has_term_election
		}
	}
	modifiers = {
		max_absolutism = -20
		election_cycle = -1
		candidate_random_bonus = 1
	}
	ai = {
		factor = 0
	}
}

pirate_king_reform = {
	icon = "pirate_king"
	allow_normal_conversion = yes
	legacy_equivalent = pirate_kingdom
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_captains_influence = 0.1
		harsh_treatment_cost = -0.2
		leader_naval_fire = 1
	}
	custom_attributes = {
		admirals_become_rulers = yes
	}
	has_term_election = no
	ai = {
		factor = 2.5
	}
}

war_against_the_world_doctrine_reform = {
	icon = "war_against_the_world"
	allow_normal_conversion = yes
	legacy_equivalent = war_against_the_world_government
	disallowed_trade_goods = { gu_euro }
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_buccaneers_influence = 0.1
		years_of_nationalism = -5
		global_ship_recruit_speed = -0.15
	}
	custom_attributes = {
		gives_war_against_the_world_tooltip_dummy = yes
	}
	ai = {
		factor = 2.5
	}
}

black_market_consortium_reform = {
	icon = "black_market_consortium"
	allow_normal_conversion = yes
	legacy_equivalent = black_market_consortium_government
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		pr_smugglers_influence = 0.1
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
		}
		can_use_trade_post = yes
	}
	boost_income = yes
	ai = {
		factor = 2.5
	}
}

#Tier 10

political_principle_reform = {
	icon = "paper_with_seal_3"
	allow_normal_conversion = yes
	modifiers = {
		possible_adm_policy = 1
	}
}

moral_principle_reform = {
	icon = "parliament_hall"
	allow_normal_conversion = yes
	modifiers = {
		possible_dip_policy = 1
	}
}

stability_principle_reform = {
	icon = "soldiers_6"
	allow_normal_conversion = yes
	modifiers = {
		possible_mil_policy = 1
	}
}

enlightened_principle_reform = {
	icon = "enlightenment"
	allow_normal_conversion = yes
	trigger = {
		OR = {
			full_idea_group = innovativeness_ideas
			has_institution = enlightenment
		}
	}
	modifiers = {
		years_of_nationalism = -10
	}
}

military_principle_reform = {
	icon = "soldiers_3"
	allow_normal_conversion = yes
	modifiers = {
		republican_tradition = -0.5
		max_absolutism = 10
		years_of_nationalism = -5
	}
	custom_attributes = {
		winning_wars_gives_rt = yes
	}
}

#Tier 11

landholders_reform = {
	icon = "dutch_flag"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		manpower_recovery_speed = 0.1
	}
	ai = {
		factor = 1
	}
}

citizenry_reform = {
	icon = "people_walking"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		land_morale = 0.1
	}
	ai = {
		factor = 1.5
	}
}

admiralty_reform = {
	icon = "admiralty_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	trigger = {
		num_of_ports = 1
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	modifiers = {
		leader_naval_fire = 1
		naval_tradition_from_battle = 1
		republican_tradition = -0.5
		max_absolutism = 10
	}
	custom_attributes = {
		admirals_become_rulers = yes
		cannot_become_dictatorship = yes
	}
	has_term_election = no
	
	ai = {
		factor = 0
	}
}

military_rulership_reform = {
	icon = "soldiers_2"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	modifiers = {
		leader_land_shock = 1
		army_tradition = 0.5
		republican_tradition = -0.5
		max_absolutism = 10
	}
	custom_attributes = {
		generals_become_rulers = yes
	}
	has_term_election = no
	
	ai = {
		factor = 0
	}
}

dynastic_rulership_reform = {
	icon = "king"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	modifiers = {
		diplomatic_reputation = 2
		republican_tradition = -0.25
	}
	queen = yes
	royal_marriage = yes
	custom_attributes = {
		election_on_death = yes
	}
	has_term_election = no
	
	ai = {
		factor = 0
	}
}

rule_through_plunder_reform = {
	icon = "rioting_burning_2"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		loot_amount = 1
		land_attrition = -0.05
	}
	raze_province = yes
	
	ai = {
		factor = 0
	}
}

#Tier 12

appointment_by_committee_reform = {
	icon = "politician"
	allow_normal_conversion = yes
	modifiers = {
		advisor_pool = 1
		advisor_cost = -0.05
	}
}

bureaucratic_aparatus_reform = {
	icon = "map_2"
	allow_normal_conversion = yes
	modifiers = {
		min_autonomy_in_territories = -0.10
	}
}

universal_suffrage_reform = {
	icon = "paper_with_seal"
	allow_normal_conversion = yes
	modifiers = {
		free_dip_policy = 1
	}
	ai = {
		factor = 1
	}
}

pirate_representation_reform = {
	icon = "council"
	allow_normal_conversion = yes
	potential = {
		has_government_attribute = is_pirate_republic_reform
	}
	trigger = {	
		if = {
			limit = { has_dlc = "Common Sense" }
			OR = {
				NOT = { has_estate = estate_families }
				crown_stronger_than_estate = { estate = estate_families }
				has_reform = pirate_representation_reform
			}
		}
	}
	modifiers = {
		republican_tradition = 0.5
		max_absolutism = -15
	}
	conditional = {
		allow = {
			OR = {
				has_dlc = "Common Sense"
				has_dlc = "Domination"
			}
		}
		has_parliament = yes
	}

	ai = {
		factor = 0
	}
}

#Tier 13

pirates_become_republic_reform = {
	icon = "parliament_highlighted"
	allow_normal_conversion = yes
	
	potential = {
		has_reform = pirate_republic_reform
	}
	effect = {
		remove_government_reform = pirate_republic_reform
		set_country_flag = populists_in_government
	}
	ai = {
		factor = 0
	}
}

strengthen_executive_powers_reform = {
	icon = "queen"
	allow_normal_conversion = yes
	potential = { 
		is_revolutionary = no 
	}
	modifiers = {
		max_absolutism = 25
	}
}

reinforce_republican_values_reform = {
	icon = "parliament_hall"
	allow_normal_conversion = yes
	modifiers = {
		free_adm_policy = 1
		reelection_cost = -0.1
	}
}

federal_senate_reform = {
	icon = "judge"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	modifiers = {
		expand_administration_cost = -1
		candidate_random_bonus = 1
	}

	conditional = {
		allow = {
			OR = {
				has_dlc = "Common Sense"
				has_dlc = "Domination"
			}
		}
		has_parliament = yes
		custom_attributes = {
			halved_parliament_bribes = yes
		}
	}
}

president_for_life_reform = {
	icon = "man_on_podium"
	allow_normal_conversion = yes
	has_term_election = no
	potential = { 
		is_revolutionary = no
		has_dlc = "Emperor"
	}
	modifiers = {
		republican_tradition = -0.5
		monarch_admin_power = 1
		monarch_military_power = 1
	}
}

unified_piratical_confederacy_reform = {
	icon = "pirate_council"
	allow_normal_conversion = yes
	potential = { 
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		state_governing_cost = -0.5
		pr_buccaneers_influence = 0.1
	}
}

scourge_of_the_seven_sea_reform = {
	icon = "pirate_ship"
	allow_normal_conversion = yes
	potential = { 
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		max_absolutism = 20
		naval_tradition_from_battle = 1
		army_tradition_from_battle = 1
		pr_captains_influence = 0.1
	}
	custom_attributes = {
		raiding_increases_pp = yes
		winning_battles_increases_legitimacy = yes
	}
}

neutral_ground_reform = {
	icon = "neutral_ground"
	allow_normal_conversion = yes
	potential = { 
		has_government_attribute = is_pirate_republic_reform
	}
	modifiers = {
		diplomatic_reputation = 2
		improve_relation_modifier = 0.15
		pr_smugglers_influence = 0.1
	}
	custom_attributes = {
		vassals_can_hoist_the_black_flag = yes
		pirate_vassal_bonus = yes
	}
}