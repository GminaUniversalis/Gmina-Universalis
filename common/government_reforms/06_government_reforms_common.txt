#Tier 4

strengthen_clergy_reform = {
	icon = "church"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		has_no_religion_specific_government_available = yes	#This way modders don't have to change this reform explicitly
	}
	modifiers = {
		priests_influence_modifier = 0.1
		priests_loyalty_modifier = 0.1
		war_exhaustion = -0.03
	}
	
	ai = {
		factor = 1
	}
}


curtail_clergy_power_reform = {
	icon = "monks"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		adm_tech_cost_modifier = -0.1
		religious_unity = 0.1
		priests_influence_modifier = -0.1
	}
	custom_attributes = {
		seizing_land_no_rebels_from_estate_church = yes
	}
	
	ai = {
		factor = 1
	}
}


secure_clergy_power_reform = {
	icon = "warrior_monks_reform"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		priests_influence_modifier = 0.05
	}
	effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_tax_building_trigger = yes
				}
				add_province_modifier = {
					name = gov_expanded_temple_rights_mod
					duration = -1
				}
			}
		}
	}
	post_removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = gov_expanded_temple_rights_mod
				}
				remove_province_modifier = gov_expanded_temple_rights_mod
			}
		}
	}
	custom_attributes = {
		temples_modifier = yes
	}
	
	ai = {
		factor = 1
	}
}


maintain_clergy_balance_of_power_reform = {
	icon = "consolidate_power_in_cities_reform"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		all_estate_loyalty_equilibrium = 0.05
		diplomats = 1
	}
	
	ai = {
		factor = 1
	}
}

vodka_of_the_crown_reform = {
	icon = vodka_monopoly
	allow_normal_conversion = yes
	potential = {
		has_dlc = "Domination"

		OR = {
			
			capital_scope = {
				OR = {
					region = podlasie_region
					region = lubelskie_region
					region = podkarpacie_region
				}
			}

			any_owned_province = {
				trade_goods = gu_vodka
			}
		}

		
	}
	modifiers = {
		global_unrest = -1
		idea_cost = 0.05
		global_trade_goods_size_modifier = 0.1
	}
	effect = {
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = {
						trade_goods = gu_wheat
					}
					add_province_modifier = { 
						name = grain_vodka_bonus_prod
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = grain_vodka_bonus_prod
				}
				remove_province_modifier = grain_vodka_bonus_prod
			}
		}
	}
	custom_attributes = {
		extra_trade_goods_from_grain = yes
	}

	ai = {
		factor = 1
	}
}

#Tier 5

organized_military_staff_reform = {
	icon = "organized_military_staff"
	allow_normal_conversion = yes
	trigger = {
		if = {
			limit = { has_modifier_locking_military_tier = yes }
			OR = {
				has_reform = organized_military_staff_reform
				has_not_modifier_locking_military_tier = yes
			}
		}
	}
	modifiers = {
		reinforce_cost_modifier = -0.2
		reinforce_speed = 0.25
		global_supply_limit_modifier = 0.2
	}
	
	ai = {
		factor = 1
	}
}

military_engineering_reform = {
	icon = "military_engineers"
	allow_normal_conversion = yes
	trigger = {
		if = {
			limit = { has_modifier_locking_military_tier = yes }
			OR = {
				has_reform = military_engineering_reform
				has_not_modifier_locking_military_tier = yes
			}
		}
	}
	modifiers = {
		artillery_barrage_cost = -0.25
		artillery_cost = -0.1
	}
	
	ai = {
		factor = 1
	}
}

defensive_stance_reform = {
	icon = "castle"
	allow_normal_conversion = yes
	trigger = {
		if = {
			limit = { has_modifier_locking_military_tier = yes }
			OR = {
				has_reform = defensive_stance_reform
				has_not_modifier_locking_military_tier = yes
			}
		}
		NOT = { is_subject_of_type = march }
		NOT = { is_subject_of_type = client_march }
	}
	modifiers = {
		defensiveness = 0.15
		garrison_size = 0.2
		max_hostile_attrition = 1
	}
	
	ai = {
		factor = 1
	}
}

sustained_discipline_reform = {
	icon = "line_infantry"
	allow_normal_conversion = yes
	trigger = {
		if = {
			limit = { has_modifier_locking_military_tier = yes }
			OR = {
				has_reform = sustained_discipline_reform
				has_not_modifier_locking_military_tier = yes
			}
		}
	}
	modifiers = {
		land_attrition = -0.15
		drill_decay_modifier = -0.33
		drill_gain_modifier = 0.33
	}
	
	ai = {
		factor = 1
	}
}

cavalry_warfare_reform = {
	icon = "cavalry"
	allow_normal_conversion = yes
	trigger = {
		if = {
			limit = { has_modifier_locking_military_tier = yes }
			OR = {
				has_reform = cavalry_warfare_reform
				has_not_modifier_locking_military_tier = yes
			}
		}
	}
	modifiers = {
		cav_to_inf_ratio = 0.1
		cavalry_cost = -0.1
	}
	
	ai = {
		factor = 1
	}
}

mercenary_leadership_reform = {
	icon = "war_economy"
	allow_normal_conversion = yes
	potential = {
		OR = {
			NOT = { has_dlc = "Domination" }
			NOT = { full_idea_group = mercenary_ideas }
		}
	}
	trigger = {
		if = {
			limit = { has_modifier_locking_military_tier = yes }
			OR = {
				has_reform = mercenary_leadership_reform
				has_not_modifier_locking_military_tier = yes
			}
		}
	}
	modifiers = {
		mercenary_cost = -0.1
		possible_condottieri = 0.5
	}
	
	ai = {
		factor = 1
		modifier = {
			factor = 0
			NOT = {
				has_global_modifier_value = {
					which = mercenary_discipline
					value = 0.05
				}
			}
		}
	}
}

amphibious_specialization_reform = {
	icon = "marine"
	allow_normal_conversion = yes

	trigger = {
		num_of_ports = 1
		if = {
			limit = { has_modifier_locking_military_tier = yes }
			OR = {
				has_reform = amphibious_specialization_reform
				has_not_modifier_locking_military_tier = yes
			}
		}
	}
	modifiers = {
		regiment_disembark_speed = 0.25
		transport_attrition = -0.25
		allowed_marine_fraction = 0.1
	}
	effect = {
		hidden_effect = {
			add_country_modifier = {
				name = amphibious_specialization_reform_modifier
				duration = -1
				hidden = yes
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			remove_country_modifier = amphibious_specialization_reform_modifier
		}
	}
	conditional = {
		allow = {
			OR = {
				has_dlc = "Domination"
				has_dlc = "Golden Century"
				has_dlc = "Rule Britannia"
				has_dlc = "Lions of the North"
			}
		}
		custom_attributes = {
			marine_buff = yes	#Marines -20% Manpower Usage
		}
	}
	
	ai = {
		factor = 1
		modifier = {
			factor = 0
			NOT = { max_sailors = 50000 }
		}
	}
}

professional_navy_reform = {
	icon = "war_ship"
	allow_normal_conversion = yes

	trigger = {
		if = {
			limit = { has_modifier_locking_military_tier = yes }
			OR = {
				has_reform = professional_navy_reform
				has_not_modifier_locking_military_tier = yes
			}
		}
	}
	modifiers = {
		navy_tradition_decay = -0.01
		max_flagships = 2
		siege_blockade_progress = 2
		naval_morale = 0.1
		sailor_maintenance_modifer = -0.1
		global_sailors_modifier = 0.25
	}
	
	ai = {
		factor = 1
	}
}

maritime_military_reform = {
	icon = "war_ship"
	allow_normal_conversion = yes

	trigger = {
		num_of_ports = 1
		if = {
			limit = { has_modifier_locking_military_tier = yes }
			OR = {
				has_reform = maritime_military_reform
				has_not_modifier_locking_military_tier = yes
			}
		}
	}
	modifiers = {
		navy_tradition_decay = -0.01
		naval_morale = 0.1
		global_ship_cost = -0.05
	}
	
	ai = {
		factor = 1
		modifier = {
			factor = 0
			capital_scope = {
				is_island = no
			}
		}
	}
}

doppelsoldner_reform = {
	icon = "mercenaries"
	allow_normal_conversion = yes

	trigger = {
		full_idea_group = mercenary_ideas
		if = {
			limit = { has_modifier_locking_military_tier = yes }
			OR = {
				has_reform = doppelsoldner_reform
				has_not_modifier_locking_military_tier = yes
			}
		}
	}
	modifiers = {
		mercenary_cost = -0.15
		possible_condottieri = 0.5
		merc_leader_army_tradition = 0.25
	}
	conditional = {
		allow = { has_dlc = "Domination" }
		government_abilities = {
			hessian_militarization_mechanic
		}
	}
	custom_attributes = {
		mercs_do_not_cost_army_professionalism = yes
	}
	
	ai = {
		factor = 1
	}
}

#Tier 6

parliamentary_reform = {
	icon = "judge"
	modifiers = {
		global_unrest = -1
	}
	
	trigger = {		
		if = {
			limit = {
				OR = {
					has_dlc = "Common Sense"
					has_dlc = "Domination"
				}
			}
			OR = {
				NOT = { has_estate = estate_families }
				crown_stronger_than_estate = { estate = estate_families }
				has_reform = parliamentary_reform
			}
		}	
	}

	conditional = {
		allow = {
			OR = {
				has_dlc = "Common Sense"
				has_dlc = "Domination"
			}
		}
		has_parliament = yes
		custom_attributes = {
			blocked_call_diet = yes
		}
	}
	ai = {
		factor = 1
	}
}

#Tier 7

superiority_of_the_state_reform = {
	icon = russian_queen	
	trigger = {
		full_idea_group = court_ideas
	}
	modifiers = {
		all_estate_influence_modifier = -0.1
		max_absolutism = 5
	}
	custom_attributes = {
		can_sell_crownland_to_single_estates = yes
		can_seize_crownland_of_single_estates = yes
		seizing_land_no_rebels = yes
	}
	ai = {
		factor = 10
	}
}

#Tier 8

empower_the_burghers_reform = {
	icon = "prussian_monarchy_2"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
			has_estate = estate_banks
		}
	}
	modifiers = {
		global_trade_power = 0.05
		trade_efficiency = 0.05
		banks_loyalty_modifier = 0.05
		banks_influence_modifier = 0.1
	}
	ai = {
		factor = 1
	}
}

curtail_the_burghers_reform = {
	icon = "assembly_hall"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
			has_estate = estate_banks
		}
	}
	modifiers = {
		trade_company_governing_cost = -0.1
		trade_steering = 0.15
		banks_influence_modifier = -0.1
		banks_loyalty_modifier = -0.05
	}
	custom_attributes = {
		seizing_land_no_rebels_from_estate_banks = yes
	}
	ai = {
		factor = 1
	}
}

mercantilistic_approach_reform = {
	icon = "paper_with_seal"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	trigger = {
		if = {
			limit = {
				is_revolutionary = yes
				has_dlc = "Emperor"
				has_government_attribute = enables_estate_banks
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_banks
			}
		}
	}
	modifiers = {
		mercantilism_cost = -0.1
		global_own_trade_power = 0.15
		placed_merchant_power = 5
	}
	custom_attributes = {
		no_mercantilism_loss_from_privilege = yes
	}
	ai = {
		factor = 1
	}
}

free_trade_reform = {
	icon = "merchant"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	trigger = {
		if = {
			limit = {
				is_revolutionary = yes
				has_dlc = "Emperor"
				has_government_attribute = enables_estate_banks
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_banks
			}
		}
	}
	modifiers = {
		global_institution_spread = 0.25
		global_foreign_trade_power = 0.2
	}
	custom_attributes = {
		monarch_power_on_institutions = yes
	}
	conditional = {
		allow = { has_dlc = "Cradle of Civilization" }
		custom_attributes = {
			free_improve_inland_routes = yes
		}
	}
	ai = {
		factor = 1
	}
}

lockean_proviso_reform = {
	icon = "paper_money_map"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	trigger = {
		OR = { 
			full_idea_group = economic_ideas
			full_idea_group = infrastructure_ideas 
		}
		if = {
			limit = {
				is_revolutionary = yes
				has_dlc = "Emperor"
				has_government_attribute = enables_estate_banks
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_banks
			}
		}
	}
	modifiers = {
		development_cost = -0.05
		global_trade_goods_size_modifier = 0.05
	}
	ai = {
		factor = 1
	}
}

embrace_the_economic_theory_reform = {
	icon = "dutch_flag"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	trigger = {
		if = {
			limit = {
				is_revolutionary = yes
				has_dlc = "Emperor"
				has_government_attribute = enables_estate_banks
			}
			can_swap_out_of_estate_granting_reform = {
				estate = estate_banks
			}
		}
	}
	modifiers = {
		interest = -0.5
		inflation_reduction = 0.2
	}
	ai = {
		factor = 1
	}
}

war_economy_reform = {
	icon = "war_economy"
	allow_normal_conversion = yes
	potential = {
		NOT = { has_government_attribute = is_pirate_republic_reform }
	}
	trigger = {
	}
	modifiers = {
		war_taxes_cost_modifier = -0.5
		global_regiment_cost = -0.1
		global_ship_cost = -0.1
	}
	ai = {
		factor = 1
	}
}

